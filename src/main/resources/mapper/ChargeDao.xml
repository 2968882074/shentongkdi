<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yidu.shentongkdi.dao.ChargeDao">

    <resultMap id="BaseResultMap" type="com.yidu.shentongkdi.entity.Charge">
        <!--@Table charge-->
        <result property="chid" column="chid" jdbcType="INTEGER"/>
        <result property="chargename" column="chargeName" jdbcType="VARCHAR"/>
        <result property="weight" column="weight" jdbcType="VARCHAR"/>
        <result property="distanc" column="distanc" jdbcType="VARCHAR"/>
        <result property="operationstaff" column="operationStaff" jdbcType="VARCHAR"/>
        <result property="unit" column="unit" jdbcType="VARCHAR"/>
        <result property="chargetime" column="chargeTime" jdbcType="VARCHAR"/>
    </resultMap>

    <!-- 统计行数-->
    <select id="count" resultType="int">
        select count(1) num from yyy.charge
    </select>

    <!--查询单个-->
    <select id="queryById" resultMap="BaseResultMap">
        select
          chid, chargeName, weight, distanc, operationStaff, unit, chargeTime
        from yyy.charge
        where chid = #{chid}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="BaseResultMap">
        select
          chid, chargeName, weight, distanc, operationStaff, unit, chargeTime
        from yyy.charge
        <where>
            <if test="chargename!=null">
                and chargeName like '%${chargename}%'
            </if>
        </where>
        limit #{offset}, #{limit}
    </select>

    <!--通过实体作为筛选条件查询-->
    <select id="queryAll" resultMap="BaseResultMap">
        select
          chid, chargeName, weight, distanc, operationStaff, unit, chargeTime
        from yyy.charge
        <where>
            <if test="chid != null">
                and chid = #{chid}
            </if>
            <if test="chargename != null and chargename != ''">
                and chargeName = #{chargename}
            </if>
            <if test="weight != null and weight != ''">
                and weight = #{weight}
            </if>
            <if test="distanc != null and distanc != ''">
                and distanc = #{distanc}
            </if>
            <if test="operationstaff != null and operationstaff != ''">
                and operationStaff = #{operationstaff}
            </if>
            <if test="unit != null and unit != ''">
                and unit = #{unit}
            </if>
            <if test="chargetime != null and chargetime != ''">
                and chargeTime = #{chargetime}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="chid" useGeneratedKeys="true">
        insert into yyy.charge(chargeName, weight, distanc, operationStaff, unit, chargeTime)
        values (#{chargename}, #{weight}, #{distanc}, #{operationstaff}, #{unit}, #{chargetime})
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update yyy.charge
        <set>
            <if test="chargename != null and chargename != ''">
                chargeName = #{chargename},
            </if>
            <if test="weight != null and weight != ''">
                weight = #{weight},
            </if>
            <if test="distanc != null and distanc != ''">
                distanc = #{distanc},
            </if>
            <if test="operationstaff != null and operationstaff != ''">
                operationStaff = #{operationstaff},
            </if>
            <if test="unit != null and unit != ''">
                unit = #{unit},
            </if>
            <if test="chargetime != null and chargetime != ''">
                chargeTime = #{chargetime},
            </if>
        </set>
        where chid = #{chid}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from yyy.charge where chid = #{chid}
    </delete>

</mapper>